<% provide(:title, 'パスワードを更新') %>
<% provide(:button_text, '更新') %>

<div class="row">
  <div class="col-xs-12">
    <div class="profile_edit">
      <%= gravatar_for @user %>
      <ol class="profile-content">
        <li class="user-name"><%= @user.user_name if @user.user_name %><br></li>
        <li class="gravater-link"><a href="https://gravatar.com/emails" target="_blank">プロフィール画像を変更する</a></li>
        <% if current_user == @user %>
          <li><%= link_to "このアカウントを削除する",@user, method: :delete,
                                  data: { confirm: "削除してよろしいですか?" }, class: "delete-link" %></li>
        <% end %>
      </ol>
    </div>
      <%= form_with(model: @user, url: password_path, method: :post, local: true) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>

      <div class="profile-box">
        <%= f.label :"現在のパスワード", class: "profile-name"%>
        <%= f.password_field :password, class: 'form-control' %>
      </div>

      <div class="profile-box">
        <%= f.label :"新しいパスワード", class: "profile-name" %>
        <%= f.password_field :new_password, class: 'form-control' %>
      </div>
      
      <div class="profile-box">
        <%= f.label :"新しいパスワード(確認)", class: "profile-name" %>
        <%= f.password_field :new_password_confirmation, class: 'form-control' %>
      </div>

      <div class="profile-btn">
        <%= f.submit yield(:button_text), class: "btn btn-primary" %>
        <%= link_to "プロフィールを編集する", edit_user_path(@user), class:"password-link" %>
      </div>
    <% end %>
  </div>
</div>
